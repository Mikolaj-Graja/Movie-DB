(function(t){function e(e){for(var s,o,r=e[0],l=e[1],c=e[2],p=0,h=[];p<r.length;p++)o=r[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,r=1;r<i.length;r++){var l=i[r];0!==a[l]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},a={app:0},n=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Movie-DB/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("85ec"),a=i.n(s);a.a},"331c":function(t,e,i){},"46f5":function(t,e,i){"use strict";var s=i("ed68"),a=i.n(s);a.a},5003:function(t,e,i){"use strict";var s=i("c5bd"),a=i.n(s);a.a},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Header",{on:{handleSearch:t.handleSearch}}),i("List",{attrs:{searchResult:t.searchResult}}),i("MadeBy")],1)},n=[],o=(i("99af"),i("d3b7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.searchResult.length>0?i("SortItems",{attrs:{searchResult:this.searchResult},on:{sort:t.sort}}):t._e(),i("div",{staticClass:"container"},[t.searchResult.length>0?i("ul",t._l(this.currentPageMovies,(function(e){return i("li",{key:e.id,staticClass:"text-white card"},[i("img",{staticClass:"pointer",attrs:{async:"",src:t.base_URL+t.configuration+e.poster_path},on:{click:function(i){return t.handlemoreInfo(e.id)}}}),i("p",{staticClass:"title"},[t._v(t._s(e.title))]),i("p",[t._v(" Popularity: "),i("b",[t._v(t._s(e.popularity))])]),i("p",[t._v(" Number of votes: "),i("b",[t._v(t._s(e.vote_count))])])])})),0):i("div",{staticClass:"no-result"},[i("div",{staticClass:"alert alert-dismissible alert-primary"},[t._v("No results for your keyword")]),i("div",{staticClass:"space"})]),i("Pagination",{attrs:{movies:this.movies},on:{pageUpdate:t.pageUpdate}}),t.moreInfo?i("MovieDetail",{attrs:{movieInfo:t.movieInfo,baseURL:t.base_URL,api_key:t.api_key},on:{handleClose:t.handleChildClose}}):t._e()],1)],1)}),r=[],l=i("2909"),c="20452c1c5dbeb881ebbfbc3c19944447",u=c,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h2",{staticClass:"modal-title"},[t._v(t._s(t.movieInfo.title))]),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.handleClose()}}},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"img-container"},[i("img",{attrs:{src:this.baseURL+"w500/"+this.movieInfo.poster,alt:"moviePoster`"}})]),i("div",{staticClass:"info"},[i("ul",[i("li",[i("h4",[t._v("Overview")]),i("p",[t._v(t._s(this.movieInfo.overview))])]),i("li",[i("h4",[t._v("Genres")]),t._l(this.movieInfo.genres,(function(e){return i("span",{key:e.id},[t._v(t._s(e.name))])}))],2),i("li",[i("h4",[t._v("Popularity")]),i("span",[t._v(t._s(this.movieInfo.popularity))])]),i("li",[i("h4",[t._v("Votes")]),i("span",[t._v(t._s(this.movieInfo.votes))])]),i("li",[i("h4",[t._v("Production countries")]),t._l(this.movieInfo.countries,(function(e){return i("span",{key:e.iso_3166_1},[t._v(t._s(e.name))])}))],2),i("li",[i("a",{attrs:{href:t.imbdBaseURL+this.movieInfo.id}},[t._v("Link to movie on imbd")])])])])]),i("div",{staticClass:"modal-footer"})])])},h=[],f={name:"MovieDetail",props:["moreInfo","movieInfo","baseURL","api_key"],data:function(){return{isActive:!0,imbdBaseURL:"https://www.themoviedb.org/movie/"}},methods:{handleClose:function(){this.isActive=!1,this.$emit("handleClose",this.isActive)}}},v=f,d=(i("5003"),i("2877")),m=Object(d["a"])(v,p,h,!1,null,"173b2192",null),b=m.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[i("label",{staticClass:"btn btn-success",class:{active:t.defaultActive},on:{click:t.sortDefault}},[i("input",{attrs:{type:"radio",name:"options",id:"option1",autocomplete:"off",checked:""}}),t._v(" Default ")]),i("label",{staticClass:"btn btn-success",class:{active:t.titleActive},on:{click:t.sortTitle}},[i("input",{attrs:{type:"radio",name:"options",id:"option2",autocomplete:"off"}}),t._v(" Title ")]),i("label",{staticClass:"btn btn-success",class:{active:t.popularityActive},on:{click:t.sortPopularity}},[i("input",{attrs:{type:"radio",name:"options",id:"option3",autocomplete:"off"}}),t._v(" Popularity ")])])},_=[],y={name:"SortItems",methods:{sortTitle:function(){this.sortWhat="title",this.titleActive=!0,this.defaultActive=!1,this.popularityActive=!1,this.sort()},sortPopularity:function(){this.sortWhat="popularity",this.titleActive=!1,this.defaultActive=!1,this.popularityActive=!0,this.sort()},sortDefault:function(){this.sortWhat="default",this.titleActive=!1,this.defaultActive=!0,this.popularityActive=!1,this.sort()},sort:function(){this.$emit("sort",this.sortWhat)}},data:function(){return{sortWhat:"",defaultActive:!0,popularityActive:!1,titleActive:!1}}},C=y,P=(i("46f5"),Object(d["a"])(C,g,_,!1,null,"7c2a2536",null)),w=P.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return this.movies?i("div",[i("ul",{staticClass:"pagination pagination-lg"},[i("li",{staticClass:"page-item",class:{disabled:t.previousDisabled}},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:t.previousPage}},[t._v("«")])]),t._l(t.totalPages,(function(e){return i("li",{key:e.id,staticClass:"page-item",class:{active:t.currentPage===e}},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(i){return t.thisPage(e)}}},[t._v(t._s(e))])])})),i("li",{staticClass:"page-item",class:{disabled:t.nextDisabled}},[i("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:t.nextPage}},[t._v("»")])])],2)]):t._e()},I=[],O=(i("fb6a"),{name:"Pagination",props:["movies"],data:function(){return{currentPage:1,moviesOnPage:5,visibleMovies:[],firstElOnPage:0,nextDisabled:!1}},methods:{updateVisible:function(){this.firstElOnPage=this.currentPage*this.moviesOnPage,this.visibleMovies=this.movies.slice(this.firstElOnPage,this.firstElOnPage+this.moviesOnPage),this.$emit("pageUpdate",this.visibleMovies),0===this.visibleMovies.length?this.nextDisabled=!0:this.nextDisabled=!1},nextPage:function(){this.currentPage++,this.updateVisible()},previousPage:function(){this.currentPage--,this.updateVisible()},thisPage:function(t){this.currentPage=t,this.updateVisible()}},updated:function(){this.updateVisible()},computed:{previousDisabled:function(){return this.currentPage<=1},totalPages:function(){return this.movies.length/this.moviesOnPage}}}),j=O,x=(i("6ccd"),Object(d["a"])(j,k,I,!1,null,null,null)),M=x.exports,R={name:"List",props:["searchResult"],components:{MovieDetail:b,SortItems:w,Pagination:M},data:function(){return{base_URL:"https://image.tmdb.org/t/p/",keyword:"",moreInfo:!1,api_key:u,configuration:"w200/",sortWhat:"default",sorted:"",currentPageMovies:[],movieInfo:{overview:"",genres:"",poster:"",title:"",popularity:"",votes:"",companies:"",id:"",homepage:""}}},methods:{handlemoreInfo:function(t){var e=this;this.moreInfo=!0,fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(u)).then((function(t){return t.json()})).then((function(t){e.movieInfo.overview=t.overview,e.movieInfo.genres=t.genres,e.movieInfo.poster=t.poster_path,e.movieInfo.title=t.title,e.movieInfo.popularity=t.popularity,e.movieInfo.votes=t.vote_count,e.movieInfo.countries=t.production_countries,e.movieInfo.id=t.id,e.movieInfo.homepage=t.homepage}))},handleChildClose:function(t){this.moreInfo=t},sort:function(t){var e=this;this.sortWhat=t,this.sorted=Object(l["a"])(this.searchResult).sort((function(t,i){return"popularity"==e.sortWhat?t.popularity>i.popularity?-1:1:"title"==e.sortWhat?t.title>i.title?1:-1:e.searchResult}))},pageUpdate:function(t){this.currentPageMovies=t}},computed:{movies:function(){return"default"===this.sortWhat?this.searchResult:this.sorted}}},A=R,D=(i("f62b"),Object(d["a"])(A,o,r,!1,null,null,null)),S=D.exports,$=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},E=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{staticClass:"card"},[i("p",[t._v(" Website made by "),i("a",{attrs:{href:"https://github.com/Mikolaj-Graja"}},[t._v("Mikołaj Graja")])]),i("p",[t._v(" Movie data from "),i("a",{attrs:{href:"https://www.themoviedb.org/"}},[t._v("https://www.themoviedb.org/")])])])}],L={name:"MadeBy"},U=L,W=(i("bff1"),Object(d["a"])(U,$,E,!1,null,null,null)),B=W.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{staticClass:"jumbotron"},[i("h1",{staticClass:"display-3"},[t._v("Search for a movie")]),i("form",{attrs:{action:"submit"},on:{submit:function(e){return e.preventDefault(),t.handleInput()}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"lead",attrs:{type:"text",placeholder:"search"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),i("hr",{staticClass:"my-4"}),t._m(0)])])])},V=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticClass:"lead"},[i("button",{staticClass:"btn btn-primary btn-lg",attrs:{href:"#",role:"button"}},[t._v("Search")])])}],G={name:"Header",props:[],data:function(){return{keyword:""}},methods:{handleInput:function(){this.$emit("handleSearch",this.keyword)}}},H=G,N=Object(d["a"])(H,T,V,!1,null,null,null),J=N.exports,q={name:"App",components:{List:S,MadeBy:B,Header:J},data:function(){return{searchResult:"",configuration:"w500",base_URL:"https://image.tmdb.org/t/p/w200",keyword:""}},methods:{handleSearch:function(t){var e=this;fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(u,"&query=").concat(t)).then((function(t){return t.json()})).then((function(t){e.searchResult=t.results}))}}},z=q,F=(i("034f"),Object(d["a"])(z,a,n,!1,null,null,null)),K=F.exports;s["a"].config.productionTip=!1,new s["a"]({render:function(t){return t(K)}}).$mount("#app")},"65da":function(t,e,i){},"6ccd":function(t,e,i){"use strict";var s=i("a3ac"),a=i.n(s);a.a},"85ec":function(t,e,i){},a3ac:function(t,e,i){},bff1:function(t,e,i){"use strict";var s=i("331c"),a=i.n(s);a.a},c5bd:function(t,e,i){},ed68:function(t,e,i){},f62b:function(t,e,i){"use strict";var s=i("65da"),a=i.n(s);a.a}});
//# sourceMappingURL=app.aa4e1f69.js.map